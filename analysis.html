
<!DOCTYPE html>
<html>

<head>
  <title>Session Analyzer</title>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">

  <!-- Bootsatrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

  <!-- Leaflet map css -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
    integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
    crossorigin="" />
  <link rel="stylesheet" type="text/css" href="css/styleSheet.css">

  <!-- Leaflet's JS -->
  <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
    integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
    crossorigin=""></script>

  <!-- js main codes -->
  <script src="libs/p5.min.js" type="text/javascript"></script>
  <script src="src/analysis.js" type="text/javascript"></script>
  <!-- js route codes -->
  <script src="src/route/routeManager.js" type="text/javascript"></script>
  <script src="src/route/position.js" type="text/javascript"></script>
  <script src="src/route/route.js" type="text/javascript"></script>
  <script src="src/route/segment.js" type="text/javascript"></script>
  <!-- js journey codes -->
  <script src="src/journey/journeyManager.js" type="text/javascript"></script>
  <script src="src/journey/dataPoint.js" type="text/javascript"></script>
  <script src="src/journey/journey.js" type="text/javascript"></script>
  <script src="src/journey/session.js" type="text/javascript"></script>
  <script src="src/journey/greenWave.js" type="text/javascript"></script>
  <!-- js cyclist codes -->
  <script src="src/cyclist/bicycle.js" type="text/javascript"></script>
  <script src="src/cyclist/rider.js" type="text/javascript"></script>
  <script src="src/cyclist/cyclist.js" type="text/javascript"></script>
  <!-- js 3D map  codes -->
  <!--link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.52.0/mapbox-gl.css' rel='stylesheet' />
  <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.52.0/mapbox-gl.js'></script-->
  <link href="https://cdn.osmbuildings.org/mapbox-gl/0.47.0/mapbox-gl.css" rel="stylesheet">
  <script src="https://cdn.osmbuildings.org/mapbox-gl/0.47.0/mapbox-gl.js"></script>

  <!-- js map  codes -->
  <script src="src/mapCode/cartography.js" type="text/javascript"></script>
  <script src="src/mapCode/mapRoute.js" type="text/javascript"></script>
  <script src="src/mapCode/mapJourney.js" type="text/javascript"></script>
  <script src="src/mapCode/mapSession.js" type="text/javascript"></script>
  <script src="src/mapCode/mapCyclist.js" type="text/javascript"></script>
  <!-- js utils codes -->
  <script src="src/utils/geometryUtils.js" type="text/javascript"></script>
  <script src="src/utils/motionUtils.js" type="text/javascript"></script>
  <script src="src/utils/utilities.js" type="text/javascript"></script>
  <script src="src/workbench.js" type="text/javascript"></script>

  <!-- FIREBASE -->
  <script src="https://www.gstatic.com/firebasejs/5.7.1/firebase.js"></script>
  <script src="src/comm/fireBaseCredentials.js" type="text/javascript"></script>
  <script src="src/comm/Communication.js" type="text/javascript"></script>

  <!-- FIREBASE additional services that you want to use -->
  <!--script src="https://www.gstatic.com/firebasejs/5.7.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.7.0/firebase-firestore.js"></script-->

  <!-- OSC -->
  <script src="libs/osc.min.js" type="text/javascript"></script>
  <script src="node_osc/oscSender.js" type="text/javascript"></script>

  <!--- Directory access -->
  <script src="src/utils/directoryReader.js" type="text/javascript"></script>

</head>


<body>

  <div class="container">
    <!--- The map container -->

    <div class="row">
      <br>
      <p style="font-size:12px"> <img class="img-responsive" src="images/D4SV.png" width="160"> Design for social
        viscosity lab &nbsp | &nbsp University of Illinois at Urbana-Champaign</p>
      <h1>Smart bicycles tracker map demo</h1>
      <button id="connectFirebase" type="button">Connect to Firebase</button>
      <p id="databaseConnection"></p>
      <hr>
    </div>

    <div class="row">

      <div class="col-sm-12">

        <section><a name="A"></a>

          <div id="mapid" style="width: 100%; height: 450px;">></div>

        </section>
      </div>
    </div>
  </div> <!-- close container -->

  <div class="container">
    <!--- The input boxes container -->
    <hr>
    <div class="row">
      <h4> 1. Select a journey to analyse</h4>
      <br>
      <div class="col-sm-4">
        You can consult a specific journey from the database<br>
        <br>
        Journey's ID:<br>
        <input id="idJourney" type="text" name="journey's id" value="00000">
        <h6>The id of the journey that contains the desired session</h6>
        <br>
        <button  class="btn btn-default btn-xs" id="getSessionData" type="button">Get journey's data</button>
        <br>
        <br>
      </div> <!-- Close column -->

      <div class="col-sm-4">
        Or upload all journey's sessions from a JSON files:<br>
        <br>
        <input type="file" id="files" name="files[]" multiple />
        <output id="list"></output>
        <br>
      </div>

      
        
      </div><!-- Close column -->

      <div class="row">
        <div class="col-sm-4">
          <h4>2. Journey's analysis</h4>
        </div><!-- Close column -->
      </div>

    <div class="row">
      <div class="col-sm-12">
        <h4>3. Participant performance</h4>
        <h4>Output list</h4>
        <h6>One a cyclist completes the route, a file with its output is added below</h6>
        <ul id='outputList'></ul>
    </div>

    <div class="row"><!-- Open row -->
      <hr>
    </div> <!-- Close row -->

  </div>
  <!--close container -->

  <!-- EXPORT NETWORK MODAL FORM -->
  <div class="modal fade" id="getSessionDataForm" tabindex="-1" role="dialog" aria-labelledby="getSessionDataForm"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="modal-title">Retrieve data from Firebase</h3>
        </div>
        <div class="modal-body">
          <input id="idJourney" value="Journey ID"></input>
          <input id="idSession" value="Session ID"></input>
          <p>If no data is entered the last journey of the last session will be retrieved</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-dismiss="modal" id="getFirebaseData">Get data</button>
        </div>
      </div>
    </div>
  </div>

</body>

</html>